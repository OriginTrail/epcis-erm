name: generate soml
on: push
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Set up JDK 1.8
      uses: actions/setup-java@v1
      with:
        java-version: 1.8
    - name: Generate soml
      run: java -jar ci/owl2soml.jar -i model.ttl -o soml.yaml -shacl model.shacl
    - name: Commit changes
      uses: EndBug/add-and-commit@v5
      with:
        author_name: Plamen Tarkalanov
        author_email: ptarkalanov@abv.bg
        message: 'commit autogenerated soml and shacl'
        add: 'soml.yaml model.shacl'
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}